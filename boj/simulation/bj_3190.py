

mapsize = int(input())
applecount = int(input())
appleloca = [list(map(int,input())) for _ in range(applecount)]
dirchcount = int(input())
dirch = [list(input().split()) for _ in range(dirchcount)]
snack = [[1,1]]
while(True):
